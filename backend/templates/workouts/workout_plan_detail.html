{% include "partials/header.html" %}
<!DOCTYPE html>
<html>
<head>
    <title>Workout Plan Detail</title>
</head>
<body>
    <h2>Workout on {{ workout.date }}</h2>
    <h3>Templates:</h3>
    <ul>
        {% for template in templates %}
            <li>{{ template.name }}</li>
        {% endfor %}
    </ul>
    <form method="post">
        {% csrf_token %}
        <table>
            <tr>
                <th>Exercise</th>
                <th>Weight</th>
                <th>Reps</th>
                <th>Set Number</th>
            </tr>
            {% for exercise in exercises %}
            <tr>
                <td>{{ exercise.name }}</td>
                <td><input type="number" step="0.01" name="weight_{{ exercise.id }}"></td>
                <td><input type="number" name="reps_{{ exercise.id }}"></td>
                <td><input type="number" name="set_number_{{ exercise.id }}" value="{{ next_set_numbers.exercise.id }}" min="1"></td>
            </tr>
            {% endfor %}
        </table>
        <button type="submit">Save Sets</button>
    </form>
    <h3>Existing Sets</h3>
    {% if sets %}
        <ul>
        {% for s in sets %}
            <li>{{ s.exercise.name }}: {{ s.weight }} x {{ s.reps }} (Set {{ s.set_number }})</li>
        {% endfor %}
        </ul>
    {% else %}
        <p>No sets logged yet.</p>
    {% endif %}
    <a href="{% url 'user_workout_plans' %}">Back to My Workout Plans</a>
</body>
</html>