{% include "partials/header.html" %}
<!DOCTYPE html>
<html>

<head>
    <title>View Workout Plans</title>
</head>

<body>
    <div class="container mb-5">
        <h2>My Workout Plans</h2>
    </div>
    <div class="container">
        {% if workouts %}
        <ul class="list-group mb-5">
            {% for workout in workouts %}
            <li class="list-group-item">
                <strong>{{ workout.date }}</strong><br>
                <div>
                    <a href="{% url 'workout_plan_detail' workout.id %}">Edit</a>
                </div>
                {% if workout.templates.all %}
                <em>Templates:</em>
                <ul>
                    {% for template in workout.templates.all %}
                    <li>
                        <strong>{{ template.name }}</strong>
                        {% if template.exercises.all %}
                        <ul>
                            {% for exercise in template.exercises.all %}
                            <li>{{ exercise.name }}</li>
                            {% endfor %}
                        </ul>
                        {% endif %}
                    </li>
                    {% endfor %}
                </ul>
                {% endif %}
                {{ workout.notes }}<br>
                {% if workout.sets.all %}
                <ul>
                    {% for s in workout.sets.all %}
                    <li>{{ s.exercise.name }}: {{ s.weight }} x {{ s.reps }}</li>
                    {% endfor %}
                </ul>
                {% endif %}
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p>No workout plans found.</p>
        {% endif %}
        <a href="{% url 'create_workout_plan' %}">Create New Workout Plan</a>
    </div>
</body>

</html>